{"version":3,"file":"docs/js/main_es6_esm.js","sources":["../../src/js/emitter/emitter.js","../../src/js/component/component.js","../../src/js/button/button.component.js","../../src/js/simple/simple.component.js","../../src/js/template/template.component.js","../../src/js/main.js"],"sourcesContent":["export default class Emitter {\n\n\tconstructor(options = {}) {\n\t\tObject.assign(this, options);\n\t\tthis.events = {};\n\t}\n\n\ton(type, callback) {\n\t\tconst event = (this.events[type] = this.events[type] || []);\n\t\tevent.push(callback);\n\t\treturn () => {\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\n\t\t};\n\t}\n\n\toff(type, callback) {\n\t\tconst event = this.events[type];\n\t\tif (event) {\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\n\t\t}\n\t}\n\n\temit(type, data) {\n\t\tconst event = this.events[type];\n\t\tif (event) {\n\t\t\tevent.forEach(callback => {\n\t\t\t\t// callback.call(this, data);\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\t}\n\t\tconst broadcast = this.events.broadcast;\n\t\tif (broadcast) {\n\t\t\tbroadcast.forEach(callback => {\n\t\t\t\tcallback(type, data);\n\t\t\t});\n\t\t}\n\t}\n\n}\n","import Emitter from \"../emitter/emitter\";\n\nexport default class Component extends Emitter {\n\n\tgetNode() {\n\t\tif (typeof this.render === 'function') {\n\t\t\tconst template = this.render();\n\t\t\tif (!template) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst div = document.createElement(\"div\");\n\t\t\tdiv.innerHTML = template;\n\t\t\tconst node = div.firstElementChild;\n\t\t\treturn node;\n\t\t}\n\t}\n\n\tsetNode(node) {\n\t\tconst template = this.getNode();\n\t\tif (template) {\n\t\t\tnode.parentNode.replaceChild(template, node);\n\t\t\tnode = template;\n\t\t}\n\t\tthis.node = node;\n\t\tif (typeof this.onInit === 'function') {\n\t\t\tthis.onInit(this.node);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdestroy() {\n\t\tif (typeof this.onDestroy === 'function') {\n\t\t\tthis.onDestroy(this.node);\n\t\t}\n\t}\n\n\t/*\n\trender() {\n\t\treturn `<div class=\"card--component\">\n\t\t\tI'm an ES6 component!\n\t\t</div>`;\n\t}\n\t*/\n}\n","import Component from \"../component/component\";\n\nexport default class ButtonComponent extends Component {\n\n\tonInit(node) {\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tconst button = node.querySelector('.btn');\n\t\tbutton.addEventListener('click', this.onClick);\n\t}\n\n\tonDestroy(node) {\n\t\tconst button = node.querySelector('.btn');\n\t\tbutton.removeEventListener('click', this.onClick);\n\t}\n\n\tonClick(event) {\n\t\tthis.emit('click', event);\n\t}\n\n\trender() {\n\t\treturn /* html */ `<div class=\"card--component\">\n\t\t\tI'm a ButtonComponent!<br />\n\t\t\t<button type=\"button\" class=\"btn\">Click Me!</button>\n\t\t</div>`;\n\t}\n\n}\n","import Component from \"../component/component\";\n\nexport default class SimpleComponent extends Component {\n\n\tonInit(node) {\n\t\tnode.innerHTML = `I'm a SimpleComponent!`;\n\t\tnode.classList.add('card--component', 'card--component-simple');\n\t}\n\n}\n","import Component from \"../component/component\";\n\nexport default class TemplateComponent extends Component {\n\n\trender() {\n\t\treturn /* html */ `<div class=\"card--component\">\n\t\t\tI'm a TemplateComponent!\n\t\t</div>`;\n\t}\n\n}\n","import ButtonComponent from './button/button.component';\nimport SimpleComponent from './simple/simple.component';\nimport TemplateComponent from './template/template.component';\n\nexport default class Main {\n\n\tconstructor() {\n\t\tconst simpleComponents = this.addSimpleComponents();\n\t\tconst templateComponents = this.addTemplateComponents();\n\t\tconst buttonComponents = this.addButtonComponents();\n\t\tconst components = this.addComponents();\n\t}\n\n\taddSimpleComponents() {\n\t\tconst instances = Array.from(document.querySelectorAll('[simple-component]'))\n\t\t\t.map(node => new SimpleComponent().setNode(node));\n\n\t\tconsole.log('Main.addSimpleComponents', instances);\n\t\treturn instances;\n\t}\n\n\taddTemplateComponents() {\n\t\tconst instances = Array.from(document.querySelectorAll('[template-component]'))\n\t\t\t.map(node => new TemplateComponent().setNode(node));\n\n\t\tconsole.log('Main.addTemplateComponents', instances);\n\t\treturn instances;\n\t}\n\n\taddButtonComponents() {\n\t\tconst instances = Array.from(document.querySelectorAll('[button-component]'))\n\t\t\t.map(node => {\n\t\t\t\tconst instance = new ButtonComponent().setNode(node);\n\t\t\t\tinstance.on('click', () => {\n\t\t\t\t\talert('clicked');\n\t\t\t\t});\n\t\t\t\treturn instance;\n\t\t\t});\n\n\t\tconsole.log('Main.addButtonComponents', instances);\n\t\treturn instances;\n\t}\n\n\taddComponents() {\n\t\tconst SELECTORS = {\n\t\t\t'[simple-component]': SimpleComponent,\n\t\t\t'[template-component]': TemplateComponent,\n\t\t\t'[button-component]': ButtonComponent,\n\t\t};\n\t\tlet instances = [];\n\t\tfor (let key in SELECTORS) {\n\t\t\tinstances = instances.concat(Array.from(document.querySelectorAll(key))\n\t\t\t\t.map(node => new SELECTORS[key]().setNode(node)));\n\t\t}\n\t\tconsole.log('Main.addComponents', instances);\n\t\treturn instances;\n\t}\n\n}\n\nconst main = new Main();\n"],"names":["Emitter","constructor","options","Object","assign","events","on","type","callback","event","push","filter","x","off","emit","data","forEach","broadcast","Component","getNode","render","template","div","document","createElement","innerHTML","node","firstElementChild","setNode","parentNode","replaceChild","onInit","destroy","onDestroy","ButtonComponent","onClick","bind","button","querySelector","addEventListener","removeEventListener","SimpleComponent","classList","add","TemplateComponent","Main","simpleComponents","addSimpleComponents","templateComponents","addTemplateComponents","buttonComponents","addButtonComponents","components","addComponents","instances","Array","from","querySelectorAll","map","console","log","instance","alert","SELECTORS","key","concat","main"],"mappings":"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"}